<!DOCTYPE html>
<html lang="zh">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Mintverse</title>
	<meta name="description" content="每一個詞彙，都收藏了世界的一個部分。一群詞彙交織起來，就是一個完整的宇宙。"/>
	<meta property="og:title" content="Mintverse" />
	<meta property="og:description" content="每一個詞彙，都收藏了世界的一個部分。一群詞彙交織起來，就是一個完整的宇宙。" />
	<meta property="og:image" content="../cover.png"/>
	<link rel="icon" type="image/x-icon" href="../favicon.ico">
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Inter:wght@500;600&family=Noto+Sans+TC:wght@300;400;500;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="../css/_reset.css">
	<link rel="stylesheet" href="../css/header.css">
	<link rel="stylesheet" href="../css/footer.css">
	<link rel="stylesheet" href="../css/mint.css">
	<link rel="stylesheet" href="../css/pop.css">
	<script src="../js/jquery-3.6.0.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/jquery.marquee@1.6.0/jquery.marquee.min.js"></script>
	<script src="../js/header.js"></script>
	<script src="../js/footer.js"></script>
	<script src="../js/pop.js"></script>
</head>
<body>
	<div id="app">
		<header>
		</header>
		<section class="connect">
			<div class="connectWrap">
				<button id="connectWallect">連結錢包</button>
				<p>尚未連結錢包</p>
				<!-- <p>錢包地址: <span>0x000000000</span></p> -->
			</div>
		</section>
		<section class="mint">
			<h4>錢包：<span id="address">0x000000000000000000000</span></h4>
			<div>
				<h2>每個錢包限量持有一個<br>詞彙加購辭典可收藏全部詞彙</h2>
				<h2>每個詞彙皆是獨一無二<br>加購辭典可收藏全部的詞彙</h2>
				<div class="inputWrap">
					<img  src="../image/plus.svg" alt="">
					<p>詞彙 x <span id="mintQuantity">1</span></p>
					<img  src="../image/minus.svg" alt="">
				</div>
				<div class="mintNum">
					<h2><span>限購<span id="max_mint">1</span>個：</span>FREE</h4>
					<p><span id="worldHasMinted">0001</span><span>/</span><span>2100</span></p>
				</div>
				<div class="line"></div>
				<label class="check">加購辭典 (0.15 ETH)
				  <input type="checkbox" id="check">
				  <span class="checkmark"></span>
				</label>
				<div class="dictionaryNum">
					<p><span id="dictionaryHasMinted">001</span><span>/</span><span>210</span></p>
				</div>
			</div>
			<button id="mintBtn">MINT 鑄造</button>
		</section>
		<div class="popset"></div>
		<footer>
		</footer>
	</div>
	<script>
		$(document).ready(function() {
			$('header').setHeader();
			$('footer').setFooter();
			$('.popset').setPop();

	  		// failed sample
			// $('.popset').openPop({message:'連結的地址不符合Write Story資格！',type:'failed'});
			

			// 連結錢包
			$('#connectWallect').on('click', function(event) {
				event.preventDefault();
				
				let status = true;
				if(status){
					$('.popset').openPop({message:'連結錢包成功'});
					$('#address').text('0x7cEaD04E4D41eDcd765154add180CD73951D2275');
				}else{
					$('.popset').openPop({message:'連結錢包失敗',type:'failed'});
					$('#connectWallect').text('重新連結錢包');
					return
				}


				// 設定已經被 mint 數量
				let dictionary = '005';
				let world = '0005';
				settingMintData(world, dictionary);

				// 決定為白名單或是公售樣式
				let whiteList = true;
				if(whiteList)
					$('.mint').addClass('whiteList');
				else
					$('.mint').addClass('publicSale');
				
				$('.mint').show();
				$('.connect').hide();
			});

			// Mint

			$('#mintBtn').on('click', function(event) {
				event.preventDefault();
				let mintData = {
					address:'xxxxxx',
					mintQuantity: parseInt($('.inputWrap span').text()),
					dictionaryQuantity: $('#check').is(":checked") ? 1 : 0
				}
				console.log(mintData);
				$('.popset').openPop({message:'確認要鑄造Metavers Mint?',type:'check',complete:async function(){
		             //let mint_result = await free_mint_paper(wallet_info);
		             $('.popset').hide();
		  		 }});
			});

			// 最大限制 mint 數量
			let maxMint = 5;
			$('.inputWrap img').on('click', function(event) {
				event.preventDefault();
				/* Act on the event */
				let num = $('.inputWrap span').text();
				let index = $( ".inputWrap img" ).index( this );
				num = parseInt(num);
				if(index == 0){
					num = num + 1 <= maxMint ? num + 1 : num;
				}else{
					num = num - 1 < 1 ? num  : num - 1;
				}
				$('.inputWrap span').text(num.toString());
			});

			function settingMintData(world, dictionary){
				$('#dictionaryHasMinted').empty().text(dictionary);
				$('#worldHasMinted').empty().text(world);
			}
		})
	</script>
</body>
</html>